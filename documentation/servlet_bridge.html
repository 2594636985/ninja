<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at May 31, 2013
 | Rendered using Apache Maven Fluido Skin 1.2.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ninja Web Framework | Full stack web framework for Java. Fast and productive. Built on Maven - runs on servlet containers. - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido.min.js"></script>

          
                
        <?xml version="1.0" encoding="UTF-8"?>
<script type="text/javascript">var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38154034-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script>
          
    <meta name="Date-Revision-yyyymmdd" content="20130531" />
    <meta http-equiv="Content-Language" content="en" />
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/reyez/ninja">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../.." id="bannerLeft">
                <h2>Ninja web framework</h2>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-05-31</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.4.3</li>
                      
                
            
      
                            </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                                    <h3></h3>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="../introduction.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../team.html" title="Team">Team</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                              <li class="expanded">
                          <a href="../documentation/getting_started.html" title="Documentation">Documentation</a>
                    <ul>
                      <li class="none">
                          <a href="../documentation/controller.html" title="Controller">Controller</a>
            </li>
                      <li class="none">
                          <a href="../documentation/application_configuration.html" title="Configuration">Configuration</a>
            </li>
                      <li class="none">
                          <a href="../documentation/html_templating.html" title="Html templating">Html templating</a>
            </li>
                      <li class="none">
                          <a href="../documentation/static_assets.html" title="Static assets">Static assets</a>
            </li>
                      <li class="none">
                          <a href="../documentation/injection.html" title="Injection">Injection</a>
            </li>
                      <li class="none">
                          <a href="../documentation/filter.html" title="Filter">Filter</a>
            </li>
                      <li class="none">
                          <a href="../documentation/internationalization.html" title="Internationalization">Internationalization</a>
            </li>
                      <li class="none">
                          <a href="../documentation/request_scope.html" title="Request scope">Request scope</a>
            </li>
                      <li class="none">
                          <a href="../documentation/scheduler.html" title="Scheduler">Scheduler</a>
            </li>
                      <li class="none">
                          <a href="../documentation/lifecycle.html" title="Lifecycle">Lifecycle</a>
            </li>
                      <li class="none">
                          <a href="../documentation/validation.html" title="Validation">Validation</a>
            </li>
                      <li class="none">
            <strong>Servlet bridge</strong>
          </li>
                      <li class="none">
                          <a href="../documentation/debugging.html" title="Debugging">Debugging</a>
            </li>
                      <li class="none">
                          <a href="../documentation/deployment.html" title="Deployment">Deployment</a>
            </li>
                      <li class="none">
                          <a href="../documentation/security_guide.html" title="Security Guide">Security Guide</a>
            </li>
                      <li class="none">
                          <a href="../documentation/upgrading_to_current_version.html" title="Upgrading to latest">Upgrading to latest</a>
            </li>
                      <li class="none">
                          <a href="../apidocs/index.html" title="API">API</a>
            </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="../documentation/modules.html" title="Modules">Modules</a>
            </li>
          </ul>
                        <h3>Get involved</h3>
                  <ul>
                  <li class="none">
                          <a href="https://twitter.com/ninjaframework" class="externalLink" title="@ninjaframework">@ninjaframework</a>
            </li>
                  <li class="none">
                          <a href="https://groups.google.com/d/forum/ninja-framework" class="externalLink" title="Mailing list">Mailing list</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/reyez/ninja" class="externalLink" title="Source code">Source code</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/reyez/ninja/issues" class="externalLink" title="Bug tracker">Bug tracker</a>
            </li>
                  <li class="none">
                          <a href="../security.html" title="Security issues">Security issues</a>
            </li>
          </ul>
                        <h3>Develop</h3>
                  <ul>
                  <li class="none">
                          <a href="../developer/changelog.html" title="Changelog">Changelog</a>
            </li>
                  <li class="none">
                          <a href="../developer/roadmap.html" title="Roadmap">Roadmap</a>
            </li>
                  <li class="none">
                          <a href="../developer/getting_started.html" title="How to contribute">How to contribute</a>
            </li>
          </ul>
                      
            
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="http://www.ninjaframework.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Servlet bridge</h1><h2>Intro</h2><p>Ninja is designed to not depend on a specific web container technology per se.
You can run Ninja inside any servlet container - but also as Netty application.</p><p>In reality, however, Ninja tends to run 99% in servlet based containers. Tomcats, Jettys and so on.
It is also true that many users want to have a clear migration path. </p><p>Your organization possibly already has a lot of Servlets you want to reuse. Or filters you wrote,
or servlet based plugins you want to combine with Ninja.</p><p>The servlet bridge supports this use case and makes it really simple to combine servlet technology
and Ninja to get the best of both worlds.</p><h2>The Servlet-bridge</h2><p>The best way to add servlets and filters to Ninja is to use Ninja&rsquo;s SevletModule at /conf/ServletModule.java .</p>
<pre class="prettyprint">
    public class ServletModule extends com.google.inject.servlet.ServletModule {
    
    
        @Override
        protected void configureServlets() {

            bind(LegacyServletFilter.class).asEagerSingleton();
            bind(NinjaServletDispatcher.class).asEagerSingleton();
        
            filter("/*").through(LegacyServletFilter.class);
            serve("/*").with(NinjaServletDispatcher.class);
        }
    
    }
</pre><p>We using an arbitrary Servlet filter (LegacyServletFilter) to filter stuff completely outside of Ninja. It is of course
a better way to use Ninja&rsquo;s filters directly. But if you got a large legacy app it can make sense to combine
both technologies for a smooth transition.</p><p>Please note: ServletFilter.java is optional. If the file is not present all requests will be handled by
Ninja.</p><h2>Note of caution</h2><p>1) Using serlvets and servlet filters is a really convenient way. But there is a big danger: If you don&rsquo;t know
what you are doing you might end up with a framework that does not scale. Please remember: Ninja is stateless
and does not use and servlet sessions. If you combine Ninja with servlets that use servlet sessions you can no
longer count on the fact that your Ninja app scales with ease.</p><p>It is usually a better idea writing a module for Ninja and use Ninja&rsquo;s session mechanism to circumvent that problem.</p><p>2) ServletModule only works when Ninja is actually running inside a servlet container. If you are running Ninja
inside a Netty this will not work as Netty does not understand the servlet spec.</p>
                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2013.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
